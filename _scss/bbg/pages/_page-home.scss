// 1. GLOBAL
// 2. MEDIUM SCREEN
// 3. MEDIUM LARGE SCREEN
// 4. LARGE SCREEN


.page-post-featured-graphic {margin-bottom: 3rem;}
.home-feature-primary-post {
	.page-post-featured-graphic {margin-bottom: 1.5rem;}
}

// SOAPBOX
.soap-corner {
	img {margin-bottom: 1.5rem;}
}

// THREATS TO PRESS SECTION
#homepage-threats {
	background-image: url('/wp-content/themes/bbgRedesign/img/site-icons/usagm-tourch.png');
	background-repeat: no-repeat;
	background-position: left;
	background-size: contain;
	background-color: #222222;
	margin-bottom: 7.5rem;

	h2 {a:link, a:visited {color: $white;}}
	h4 {color: $white;}
	h4 {a:link, a:visited {color: $white;}}

	#threats-main-column {
		padding-top: 2em;
		article {border-bottom: none;}
	}
	#threats-side-column {
		padding: 2em;
		background-image: linear-gradient(#333333, #222222);
		article {
			border-bottom: 2px solid #222222;
		}
	}
}


// 1. GLOBAL
.full-width-banner {
	.banner-image {
		background-size: cover;
		height: 300px;
		margin-bottom: 10px;
	}
	@include media($medium-screen) {
		.banner-image {height: 400px;}
	}
	@include media($medium-medium-screen) {
		.banner-image {height: 500px;}
	}
}


#mission {
	margin: 0 auto 6rem auto;
	.grid-container {border-bottom: 1px solid #EAEBF0;}
}
#entities {border-bottom: 1px solid #EAEBF0;}

// DO A SEARCH FOR THIS AND SEE IF YOU CAN DELETE IT
.bbg-banner {
	background-color: $color-gray-lightest;
	@include backgroundCover();
	height: 400px;
	max-height: 500px;
	margin-bottom: 1.5rem;
	max-width: 9999px;
	position: relative;
	width: 100%;

	a:focus {
		box-shadow: none;
		background: none;
	}

	.bbg-banner-box {
		margin: 0 auto;
		max-width: $site-max-width;
		padding-bottom: $site-margins / 2;
		position: absolute;
		bottom: 0;

		.bbg-banner-site-title {
			color: #FFF;
			font: {
				family: $font-sans !important;
				size: $h1-font-size * .8;
			}
			line-height: 1;
			margin-bottom: 5px;
			max-width: $site-max-width;
			padding-right: $site-margins;
			text-shadow: $text-shadow;
		}
		.bbg-banner-site-description {
			background-color: $box-transparent;
			border-radius: 0 $border-radius $border-radius 0;
			color: #FFF;
			display: inline-block;
			font: {
				size: $h3-font-size * .8;
				weight: $font-normal;
			}
			margin: {
				top: 0;
				right: 0;
				left: -$grid-margins;
			}
			padding: 10px $site-margins 10px $grid-margins;
			text-transform: uppercase;
		}
	}
}

.bbg__social__container {
	position: fixed;
	top: 20%;
	right: 0;
	z-index: 0;
}

.bbg__social {max-width: 100%;}
.bbg__social-list__label {display: none;}
.bbg__social-list {display: none;}

.bbg-banner__cutline {
	@extend .wp-caption-text;
	color: #999 !important;
}

section.usa-section.bbg-banner__section {margin-bottom: $site-margins;}
// FOCUS BOX ICONS (SOAPBOX/EVENTS ANNOUNCEMENTS)
.bbg__article-icons-container {
	display: table-row;

	// PROPERTIES FOR FOCUS BOX ICONS
	.bbg__article-icon {
		background: {
			size: $bbg__category-icon;
			position: 5px -3px;
			repeat: no-repeat;
			image: url('/wp-content/themes/bbgRedesign/img/site-icons/BBG_advisory_red@4x.png');
			image: url('/wp-content/themes/bbgRedesign/img/site-icons/BBG_advisory_red.svg');
		}
		display: table-cell;
		width: $bbg__category-icon + 5px;
	}

	.bbg__label--outside {
		display: inline-block;
		margin-bottom: 1rem;
	}
}

// SOAPBOX
.soapbox {
	padding: 3rem;
	background-color: $color-cool-blue-lightest;
	> div {margin-bottom: 0;}
	.soapbox-image-side {display: none;}
	.soapbox-content-side {@include grid-column(12); margin-left: 0;}

	// SOAPBOX MODULE LARGE SCREEN
	@include media($medium-screen) {
		.soapbox-image-side {
			display: block;
			@include grid-column(2);
			margin-left: 0;
			img {
				width: 100%;
				margin-bottom: 0.3em;
			}
			p {
				text-align: right;
				margin-bottom: 0;
			}
		}
		.soapbox-content-side {@include grid-column(10); margin-left: 20px;}
	}
}

// EVENT ANNOUNCEMENT
.bbg__event-announcement, .bbg__advisory-announcement {
	.bbg__event-announcement__content {
		background-color: #F1F1F1;
		border-radius: 0 3px 3px 3px;
		padding: 1rem 2rem;
	}
	.bbg__event-announcement__title {font-size: 2.4rem;}
}
.bbg__event-announcement {
	.bbg__article-icon {
		// ICON IMAGE URLs FOR LOCAL DEV
		/* background-image: url('/innovationWP/wp-content/themes/BBGredesign/img/site-icons/BBG_event_red@4x.png');
		background-image: url('/innovationWP/wp-content/themes/BBGredesign/img/site-icons/BBG_event_red.svg'); */
		// ICON IMAGE URLs
		background-image: url('/wp-content/themes/bbgRedesign/img/site-icons/BBG_event_red@4x.png');
		background-image: url('/wp-content/themes/bbgRedesign/img/site-icons/BBG_event_red.svg');
	}
}
.bbg__advisory-announcement {
	.bbg__article-icon {
		// ICON IMAGE URLs FOR LOCAL DEV
		/* background-image: url('/innovationWP/wp-content/themes/BBGredesign/img/site-icons/BBG_event_red@4x.png');
		background-image: url('/innovationWP/wp-content/themes/BBGredesign/img/site-icons/BBG_event_red.svg'); */
		// ICON IMAGE URLs
		background-image: url('/wp-content/themes/bbgRedesign/img/site-icons/BBG_advisory_red@4x.png');
		background-image: url('/wp-content/themes/bbgRedesign/img/site-icons/BBG_advisory_red.svg');
	}
}

#threats-to-journalism {
	background-image: url('/wp-content/themes/bbgRedesign/img/site-icons/USAGM_tourch.png');
	background-repeat: no-repeat;
	background-position: left;
	background-size: contain;
	.threats-box {
		@include grid-push(1);
		article {
			@include grid-container;
			border-bottom: 1px solid $color-blue-darkest;
			.image-block {
				@include grid-column(4);
			}
			.threat-copy {
				@include grid-column(7);
			}
		}
	}
}

// ENTITIES
#home-entities {
	$entity-home-grid: (
		columns: 5
	);
	#entity-grid {
		@include grid-container;
		article {
			@include grid-column(1, $entity-home-grid);
		}
	}
}

// QUOTE
.homepage-quote {
	 text-align: center;
	 .quote-image {
		width: 100px;
		border-radius: 50%;
	}
	.quote-line {
		font-family: $font-sans;
		font-size: 2.2rem;
		line-height: 2.6rem;
		font-weight: $font-light;
		color: $color-blue;
		margin: 0 0 1.5rem 0;
	}
	.quote-name {
		font-family: $font-sans;
		font-size: 1.9rem;
		margin-bottom: 0;
	}
	.quote-credit {
		font-family: $font-sans;
		font-size: 1.4rem;
		text-transform: uppercase;
	}
}


// 2. MEDIUM SCREEN
@include media($medium-screen) {
	.bbg-banner {
		.bbg-banner__container {
			&.usa-grid {padding-right: 0;}
		}
		.bbg-banner-box {
			padding-right: $site-margins;
			.bbg-banner-site-title {font-size: $h1-font-size * 1.2;}
		}
		.bbg-banner__gradient {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 75%;
			background-image: linear-gradient(to bottom, rgba(255,255,255,1), rgba(255,255,255,0));
		}
	}
	.bbg-banner__cutline {text-align: right !important;}

	.featured-row {
		.home-feature-primary-post {@include grid-column(8);}
		.home-recent-posts {@include grid-column(4);}
	}

	.threats-ribbon {
		.threat-container {
			.threat-article {@include grid-collapse;}
			.threat-image {@include grid-column(4);}
			.threat-content {@include grid-column(8);}
		}
	}

	.bbg__event-announcement, 
	.bbg__advisory-announcement {
		.bbg__event-announcement__excerpt {display: none;}
		.bbg__event-announcement__title {font-size: 2.4rem;}
	}
}

// 3. MEDIUM LARGE SCREEN
@include media($medium-large-screen) {
	// .page-post-featured-graphic {margin-bottom: 1.5rem;}
	.bbg__event-announcement, 
	.bbg__advisory-announcement {
		.bbg__event-announcement__excerpt {display: block;}
		.bbg__event-announcement__title {font-size: 2rem;}
	}
	.featured-row {
		.home-feature-primary-post {@include grid-column(8);}
		.home-recent-posts {
			@include grid-column(4);
			div:nth-child(2) {display: block;}
		}
	}

	.threats-ribbon {
		.threat-container {
			.threat-image {@include grid-column(3);}
			.threat-content {@include grid-column(9);}
		}
	}
}

// 4. LARGE SCREEN
@include media($large-screen) {
	.bbg-banner:not(iframe) {
		height: $banner-image-height * 1.25;

		.bbg-banner-box {
			.bbg-banner-site-title {font-size: 5.5rem;}
			.bbg-banner-site-description {font-size: $h3-font-size;}
		}
	}

	.bbg__social {right: -$social-icon-home - 50px;}
	.bbg__social-list__label {
		color: #CCC;
		display: block;
		line-height: 0;
		text-orientation: sideways-right;
		writing-mode: vertical-rl;
	}
	.bbg__social-list {
		@include unstyled-list;
		display: block;
		.bbg__social-list__link {
			background-color: #FFF;
			border: $border-solid;
			border-bottom: none;
			margin-bottom: 0;
			:hover {
				background-color: #FFF;
				box-shadow: 0px 0px 6px #000;
				z-index: 9999;
			}
			;
			:focus {box-shadow: 0px 0px 6px #000;}
			;
			&:last-of-type {border-bottom: $border-solid}
			;
			a {
				background: {
					position: center center;
					repeat: no-repeat;
					size: 45px;
				}
				height: $social-icon-home;
				display: block;
				width: $social-icon-home;
				
				&.bbg-icon-github {
					background: {
						image: url(img/social-icons/png/github-mark.png);
						image: url(img/social-icons/svg/github-mark.svg);
						size: 30px;
					}
				}
				&.bbg-icon-youtube {
					background: {
						image: url(img/social-icons/png/youtube15.png);
						image: url(img/social-icons/svg/youtube15.svg);
					}
				}
				&.bbg-icon-twitter {
					background: {
						image: url(img/social-icons/png/twitter16.png);
						image: url(img/social-icons/svg/twitter16.svg);
					}
				}
				&.bbg-icon-facebook {
					background: {
						image: url(img/social-icons/png/facebook25.png);
						image: url(img/social-icons/svg/facebook25.svg);
					}
				}
			}
		}
	}
}